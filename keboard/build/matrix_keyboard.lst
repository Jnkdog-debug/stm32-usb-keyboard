ARM GAS  /tmp/ccwqkg8D.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"matrix_keyboard.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Core/Src/matrix_keyboard.c"
  20              		.section	.text.Matrix_Keyboard_Init,"ax",%progbits
  21              		.align	1
  22              		.global	Matrix_Keyboard_Init
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	Matrix_Keyboard_Init:
  28              	.LFB134:
   1:Core/Src/matrix_keyboard.c **** /**
   2:Core/Src/matrix_keyboard.c ****   ******************************************************************************
   3:Core/Src/matrix_keyboard.c ****   * @file           : matrix_keyboard.c
   4:Core/Src/matrix_keyboard.c ****   * @brief          : Matrix keyboard driver implementation
   5:Core/Src/matrix_keyboard.c ****   * 
   6:Core/Src/matrix_keyboard.c ****   * Scanning method: Drive rows one by one, read columns
   7:Core/Src/matrix_keyboard.c ****   * Matrix layout:
   8:Core/Src/matrix_keyboard.c ****   *        COL0(C6)  COL1(C7)  COL2(C8)
   9:Core/Src/matrix_keyboard.c ****   * ROW0(A12)  0       1        2
  10:Core/Src/matrix_keyboard.c ****   * ROW1(A10)  3       4        5
  11:Core/Src/matrix_keyboard.c ****   * ROW2(A8)   6       7        8
  12:Core/Src/matrix_keyboard.c ****   ******************************************************************************
  13:Core/Src/matrix_keyboard.c ****   */
  14:Core/Src/matrix_keyboard.c **** 
  15:Core/Src/matrix_keyboard.c **** #include "matrix_keyboard.h"
  16:Core/Src/matrix_keyboard.c **** 
  17:Core/Src/matrix_keyboard.c **** /* Global variables for keyboard state */
  18:Core/Src/matrix_keyboard.c **** static uint8_t key_state[KEYBOARD_ROWS][KEYBOARD_COLS] = {0};
  19:Core/Src/matrix_keyboard.c **** static uint8_t key_state_last[KEYBOARD_ROWS][KEYBOARD_COLS] = {0};
  20:Core/Src/matrix_keyboard.c **** static uint32_t debounce_timer[KEYBOARD_ROWS][KEYBOARD_COLS] = {0};
  21:Core/Src/matrix_keyboard.c **** 
  22:Core/Src/matrix_keyboard.c **** /* Row and Column pin definitions */
  23:Core/Src/matrix_keyboard.c **** static const uint16_t row_pins[KEYBOARD_ROWS] = {ROW_PIN_0, ROW_PIN_1, ROW_PIN_2};
  24:Core/Src/matrix_keyboard.c **** static const uint16_t col_pins[KEYBOARD_COLS] = {COL_PIN_0, COL_PIN_1, COL_PIN_2};
  25:Core/Src/matrix_keyboard.c **** 
  26:Core/Src/matrix_keyboard.c **** /* Key mapping table for easier reference */
  27:Core/Src/matrix_keyboard.c **** static const uint8_t key_map[KEYBOARD_ROWS][KEYBOARD_COLS] = {
  28:Core/Src/matrix_keyboard.c ****     {0, 1, 2},
  29:Core/Src/matrix_keyboard.c ****     {3, 4, 5},
  30:Core/Src/matrix_keyboard.c ****     {6, 7, 8}
ARM GAS  /tmp/ccwqkg8D.s 			page 2


  31:Core/Src/matrix_keyboard.c **** };
  32:Core/Src/matrix_keyboard.c **** 
  33:Core/Src/matrix_keyboard.c **** /**
  34:Core/Src/matrix_keyboard.c ****   * @brief Initialize matrix keyboard
  35:Core/Src/matrix_keyboard.c ****   * @retval None
  36:Core/Src/matrix_keyboard.c ****   */
  37:Core/Src/matrix_keyboard.c **** void Matrix_Keyboard_Init(void)
  38:Core/Src/matrix_keyboard.c **** {
  29              		.loc 1 38 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 24
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33 0000 70B5     		push	{r4, r5, r6, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 16
  36              		.cfi_offset 4, -16
  37              		.cfi_offset 5, -12
  38              		.cfi_offset 6, -8
  39              		.cfi_offset 14, -4
  40 0002 86B0     		sub	sp, sp, #24
  41              	.LCFI1:
  42              		.cfi_def_cfa_offset 40
  39:Core/Src/matrix_keyboard.c ****     GPIO_InitTypeDef GPIO_InitStruct = {0};
  43              		.loc 1 39 5 view .LVU1
  44              		.loc 1 39 22 is_stmt 0 view .LVU2
  45 0004 0024     		movs	r4, #0
  46 0006 0194     		str	r4, [sp, #4]
  47 0008 0294     		str	r4, [sp, #8]
  48 000a 0394     		str	r4, [sp, #12]
  49 000c 0494     		str	r4, [sp, #16]
  50 000e 0594     		str	r4, [sp, #20]
  40:Core/Src/matrix_keyboard.c ****     
  41:Core/Src/matrix_keyboard.c ****     /* Configure rows as output (push-pull, low) */
  42:Core/Src/matrix_keyboard.c ****     GPIO_InitStruct.Pin = ROW_PIN_0 | ROW_PIN_1 | ROW_PIN_2;
  51              		.loc 1 42 5 is_stmt 1 view .LVU3
  52              		.loc 1 42 25 is_stmt 0 view .LVU4
  53 0010 4FF4A843 		mov	r3, #21504
  54 0014 0193     		str	r3, [sp, #4]
  43:Core/Src/matrix_keyboard.c ****     GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
  55              		.loc 1 43 5 is_stmt 1 view .LVU5
  56              		.loc 1 43 26 is_stmt 0 view .LVU6
  57 0016 0125     		movs	r5, #1
  58 0018 0295     		str	r5, [sp, #8]
  44:Core/Src/matrix_keyboard.c ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
  59              		.loc 1 44 5 is_stmt 1 view .LVU7
  45:Core/Src/matrix_keyboard.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
  60              		.loc 1 45 5 view .LVU8
  46:Core/Src/matrix_keyboard.c ****     HAL_GPIO_Init(ROW_PORT, &GPIO_InitStruct);
  61              		.loc 1 46 5 view .LVU9
  62 001a 1D4E     		ldr	r6, .L8
  63 001c 01A9     		add	r1, sp, #4
  64 001e 3046     		mov	r0, r6
  65 0020 FFF7FEFF 		bl	HAL_GPIO_Init
  66              	.LVL0:
  47:Core/Src/matrix_keyboard.c ****     
  48:Core/Src/matrix_keyboard.c ****     /* Configure columns as input (with pull-up for stable detection) */
  49:Core/Src/matrix_keyboard.c ****     GPIO_InitStruct.Pin = COL_PIN_0 | COL_PIN_1 | COL_PIN_2;
ARM GAS  /tmp/ccwqkg8D.s 			page 3


  67              		.loc 1 49 5 view .LVU10
  68              		.loc 1 49 25 is_stmt 0 view .LVU11
  69 0024 4FF4E073 		mov	r3, #448
  70 0028 0193     		str	r3, [sp, #4]
  50:Core/Src/matrix_keyboard.c ****     GPIO_InitStruct.Mode = GPIO_MODE_INPUT;
  71              		.loc 1 50 5 is_stmt 1 view .LVU12
  72              		.loc 1 50 26 is_stmt 0 view .LVU13
  73 002a 0294     		str	r4, [sp, #8]
  51:Core/Src/matrix_keyboard.c ****     GPIO_InitStruct.Pull = GPIO_PULLUP;
  74              		.loc 1 51 5 is_stmt 1 view .LVU14
  75              		.loc 1 51 26 is_stmt 0 view .LVU15
  76 002c 0395     		str	r5, [sp, #12]
  52:Core/Src/matrix_keyboard.c ****     HAL_GPIO_Init(COL_PORT, &GPIO_InitStruct);
  77              		.loc 1 52 5 is_stmt 1 view .LVU16
  78 002e 01A9     		add	r1, sp, #4
  79 0030 1848     		ldr	r0, .L8+4
  80 0032 FFF7FEFF 		bl	HAL_GPIO_Init
  81              	.LVL1:
  53:Core/Src/matrix_keyboard.c ****     
  54:Core/Src/matrix_keyboard.c ****     /* Initialize all rows to inactive state (HIGH) */
  55:Core/Src/matrix_keyboard.c ****     HAL_GPIO_WritePin(ROW_PORT, ROW_PIN_0, GPIO_PIN_SET);
  82              		.loc 1 55 5 view .LVU17
  83 0036 2A46     		mov	r2, r5
  84 0038 4FF48041 		mov	r1, #16384
  85 003c 3046     		mov	r0, r6
  86 003e FFF7FEFF 		bl	HAL_GPIO_WritePin
  87              	.LVL2:
  56:Core/Src/matrix_keyboard.c ****     HAL_GPIO_WritePin(ROW_PORT, ROW_PIN_1, GPIO_PIN_SET);
  88              		.loc 1 56 5 view .LVU18
  89 0042 2A46     		mov	r2, r5
  90 0044 4FF48051 		mov	r1, #4096
  91 0048 3046     		mov	r0, r6
  92 004a FFF7FEFF 		bl	HAL_GPIO_WritePin
  93              	.LVL3:
  57:Core/Src/matrix_keyboard.c ****     HAL_GPIO_WritePin(ROW_PORT, ROW_PIN_2, GPIO_PIN_SET);
  94              		.loc 1 57 5 view .LVU19
  95 004e 2A46     		mov	r2, r5
  96 0050 4FF48061 		mov	r1, #1024
  97 0054 3046     		mov	r0, r6
  98 0056 FFF7FEFF 		bl	HAL_GPIO_WritePin
  99              	.LVL4:
  58:Core/Src/matrix_keyboard.c ****     
  59:Core/Src/matrix_keyboard.c ****     /* Clear state arrays */
  60:Core/Src/matrix_keyboard.c ****     for (uint8_t i = 0; i < KEYBOARD_ROWS; i++) {
 100              		.loc 1 60 5 view .LVU20
 101              	.LBB2:
 102              		.loc 1 60 10 view .LVU21
 103              		.loc 1 60 18 is_stmt 0 view .LVU22
 104 005a 2146     		mov	r1, r4
 105              		.loc 1 60 5 view .LVU23
 106 005c 12E0     		b	.L2
 107              	.LVL5:
 108              	.L3:
 109              	.LBB3:
  61:Core/Src/matrix_keyboard.c ****         for (uint8_t j = 0; j < KEYBOARD_COLS; j++) {
  62:Core/Src/matrix_keyboard.c ****             key_state[i][j] = 0;
 110              		.loc 1 62 13 is_stmt 1 view .LVU24
ARM GAS  /tmp/ccwqkg8D.s 			page 4


 111              		.loc 1 62 29 is_stmt 0 view .LVU25
 112 005e 01EB4102 		add	r2, r1, r1, lsl #1
 113 0062 0D4C     		ldr	r4, .L8+8
 114 0064 1444     		add	r4, r4, r2
 115 0066 0020     		movs	r0, #0
 116 0068 E054     		strb	r0, [r4, r3]
  63:Core/Src/matrix_keyboard.c ****             key_state_last[i][j] = 0;
 117              		.loc 1 63 13 is_stmt 1 view .LVU26
 118              		.loc 1 63 34 is_stmt 0 view .LVU27
 119 006a 0C4C     		ldr	r4, .L8+12
 120 006c 1444     		add	r4, r4, r2
 121 006e E054     		strb	r0, [r4, r3]
  64:Core/Src/matrix_keyboard.c ****             debounce_timer[i][j] = 0;
 122              		.loc 1 64 13 is_stmt 1 view .LVU28
 123              		.loc 1 64 34 is_stmt 0 view .LVU29
 124 0070 1A44     		add	r2, r2, r3
 125 0072 0B4C     		ldr	r4, .L8+16
 126 0074 44F82200 		str	r0, [r4, r2, lsl #2]
  61:Core/Src/matrix_keyboard.c ****         for (uint8_t j = 0; j < KEYBOARD_COLS; j++) {
 127              		.loc 1 61 49 is_stmt 1 discriminator 3 view .LVU30
 128 0078 0133     		adds	r3, r3, #1
 129              	.LVL6:
  61:Core/Src/matrix_keyboard.c ****         for (uint8_t j = 0; j < KEYBOARD_COLS; j++) {
 130              		.loc 1 61 49 is_stmt 0 discriminator 3 view .LVU31
 131 007a DBB2     		uxtb	r3, r3
 132              	.LVL7:
 133              	.L4:
  61:Core/Src/matrix_keyboard.c ****         for (uint8_t j = 0; j < KEYBOARD_COLS; j++) {
 134              		.loc 1 61 31 is_stmt 1 discriminator 1 view .LVU32
 135 007c 022B     		cmp	r3, #2
 136 007e EED9     		bls	.L3
 137              	.LBE3:
  60:Core/Src/matrix_keyboard.c ****         for (uint8_t j = 0; j < KEYBOARD_COLS; j++) {
 138              		.loc 1 60 45 discriminator 2 view .LVU33
 139 0080 0131     		adds	r1, r1, #1
 140              	.LVL8:
  60:Core/Src/matrix_keyboard.c ****         for (uint8_t j = 0; j < KEYBOARD_COLS; j++) {
 141              		.loc 1 60 45 is_stmt 0 discriminator 2 view .LVU34
 142 0082 C9B2     		uxtb	r1, r1
 143              	.LVL9:
 144              	.L2:
  60:Core/Src/matrix_keyboard.c ****         for (uint8_t j = 0; j < KEYBOARD_COLS; j++) {
 145              		.loc 1 60 27 is_stmt 1 discriminator 1 view .LVU35
 146 0084 0229     		cmp	r1, #2
 147 0086 01D8     		bhi	.L7
 148              	.LBB4:
  61:Core/Src/matrix_keyboard.c ****             key_state[i][j] = 0;
 149              		.loc 1 61 22 is_stmt 0 view .LVU36
 150 0088 0023     		movs	r3, #0
 151 008a F7E7     		b	.L4
 152              	.L7:
 153              	.LBE4:
 154              	.LBE2:
  65:Core/Src/matrix_keyboard.c ****         }
  66:Core/Src/matrix_keyboard.c ****     }
  67:Core/Src/matrix_keyboard.c **** }
 155              		.loc 1 67 1 view .LVU37
ARM GAS  /tmp/ccwqkg8D.s 			page 5


 156 008c 06B0     		add	sp, sp, #24
 157              	.LCFI2:
 158              		.cfi_def_cfa_offset 16
 159              		@ sp needed
 160 008e 70BD     		pop	{r4, r5, r6, pc}
 161              	.L9:
 162              		.align	2
 163              	.L8:
 164 0090 000C0240 		.word	1073875968
 165 0094 00080240 		.word	1073874944
 166 0098 00000000 		.word	key_state
 167 009c 00000000 		.word	key_state_last
 168 00a0 00000000 		.word	debounce_timer
 169              		.cfi_endproc
 170              	.LFE134:
 172              		.section	.text.Matrix_Get_Key_Status,"ax",%progbits
 173              		.align	1
 174              		.global	Matrix_Get_Key_Status
 175              		.syntax unified
 176              		.thumb
 177              		.thumb_func
 179              	Matrix_Get_Key_Status:
 180              	.LVL10:
 181              	.LFB136:
  68:Core/Src/matrix_keyboard.c **** 
  69:Core/Src/matrix_keyboard.c **** /**
  70:Core/Src/matrix_keyboard.c ****   * @brief Scan the matrix keyboard
  71:Core/Src/matrix_keyboard.c ****   * This function should be called periodically (e.g., every 5-10ms)
  72:Core/Src/matrix_keyboard.c ****   * @retval None
  73:Core/Src/matrix_keyboard.c ****   */
  74:Core/Src/matrix_keyboard.c **** void Matrix_Keyboard_Scan(void)
  75:Core/Src/matrix_keyboard.c **** {
  76:Core/Src/matrix_keyboard.c ****     uint8_t col;
  77:Core/Src/matrix_keyboard.c ****     GPIO_PinState pin_state;
  78:Core/Src/matrix_keyboard.c ****     uint32_t current_time = HAL_GetTick();
  79:Core/Src/matrix_keyboard.c ****     
  80:Core/Src/matrix_keyboard.c ****     /* Scan each row */
  81:Core/Src/matrix_keyboard.c ****     for (uint8_t row = 0; row < KEYBOARD_ROWS; row++) {
  82:Core/Src/matrix_keyboard.c ****         /* Set current row to LOW (activate it), others to HIGH */
  83:Core/Src/matrix_keyboard.c ****         for (uint8_t i = 0; i < KEYBOARD_ROWS; i++) {
  84:Core/Src/matrix_keyboard.c ****             if (i == row) {
  85:Core/Src/matrix_keyboard.c ****                 HAL_GPIO_WritePin(ROW_PORT, row_pins[i], GPIO_PIN_RESET);  // LOW = active
  86:Core/Src/matrix_keyboard.c ****             } else {
  87:Core/Src/matrix_keyboard.c ****                 HAL_GPIO_WritePin(ROW_PORT, row_pins[i], GPIO_PIN_SET);    // HIGH = inactive
  88:Core/Src/matrix_keyboard.c ****             }
  89:Core/Src/matrix_keyboard.c ****         }
  90:Core/Src/matrix_keyboard.c ****         
  91:Core/Src/matrix_keyboard.c ****         /* Small delay for signal stabilization */
  92:Core/Src/matrix_keyboard.c ****         for (volatile uint32_t i = 0; i < 100; i++);
  93:Core/Src/matrix_keyboard.c ****         
  94:Core/Src/matrix_keyboard.c ****         /* Read each column */
  95:Core/Src/matrix_keyboard.c ****         for (col = 0; col < KEYBOARD_COLS; col++) {
  96:Core/Src/matrix_keyboard.c ****             pin_state = HAL_GPIO_ReadPin(COL_PORT, col_pins[col]);
  97:Core/Src/matrix_keyboard.c ****             
  98:Core/Src/matrix_keyboard.c ****             /* With pull-up: GPIO_PIN_RESET (0) = pressed, GPIO_PIN_SET (1) = not pressed */
  99:Core/Src/matrix_keyboard.c ****             uint8_t current_state = (pin_state == GPIO_PIN_RESET) ? 1 : 0;
 100:Core/Src/matrix_keyboard.c ****             
ARM GAS  /tmp/ccwqkg8D.s 			page 6


 101:Core/Src/matrix_keyboard.c ****             /* Debounce logic */
 102:Core/Src/matrix_keyboard.c ****             if (current_state != key_state[row][col]) {
 103:Core/Src/matrix_keyboard.c ****                 /* State changed, start debounce timer */
 104:Core/Src/matrix_keyboard.c ****                 if (debounce_timer[row][col] == 0) {
 105:Core/Src/matrix_keyboard.c ****                     debounce_timer[row][col] = current_time;
 106:Core/Src/matrix_keyboard.c ****                 }
 107:Core/Src/matrix_keyboard.c ****                 
 108:Core/Src/matrix_keyboard.c ****                 /* Check if debounce time has passed */
 109:Core/Src/matrix_keyboard.c ****                 if ((current_time - debounce_timer[row][col]) >= DEBOUNCE_TIME) {
 110:Core/Src/matrix_keyboard.c ****                     /* State is stable, update key state */
 111:Core/Src/matrix_keyboard.c ****                     key_state_last[row][col] = key_state[row][col];
 112:Core/Src/matrix_keyboard.c ****                     key_state[row][col] = current_state;
 113:Core/Src/matrix_keyboard.c ****                     debounce_timer[row][col] = 0;
 114:Core/Src/matrix_keyboard.c ****                     
 115:Core/Src/matrix_keyboard.c ****                     /* Call callback if state changed */
 116:Core/Src/matrix_keyboard.c ****                     if (key_state[row][col] != key_state_last[row][col]) {
 117:Core/Src/matrix_keyboard.c ****                         uint8_t key_code = key_map[row][col];
 118:Core/Src/matrix_keyboard.c ****                         Matrix_Key_Callback(key_code, key_state[row][col]);
 119:Core/Src/matrix_keyboard.c ****                     }
 120:Core/Src/matrix_keyboard.c ****                 }
 121:Core/Src/matrix_keyboard.c ****             } else {
 122:Core/Src/matrix_keyboard.c ****                 /* State stable, reset debounce timer */
 123:Core/Src/matrix_keyboard.c ****                 debounce_timer[row][col] = 0;
 124:Core/Src/matrix_keyboard.c ****             }
 125:Core/Src/matrix_keyboard.c ****         }
 126:Core/Src/matrix_keyboard.c ****     }
 127:Core/Src/matrix_keyboard.c ****     
 128:Core/Src/matrix_keyboard.c ****     /* Set all rows back to HIGH when done */
 129:Core/Src/matrix_keyboard.c ****     for (uint8_t i = 0; i < KEYBOARD_ROWS; i++) {
 130:Core/Src/matrix_keyboard.c ****         HAL_GPIO_WritePin(ROW_PORT, row_pins[i], GPIO_PIN_SET);
 131:Core/Src/matrix_keyboard.c ****     }
 132:Core/Src/matrix_keyboard.c **** }
 133:Core/Src/matrix_keyboard.c **** 
 134:Core/Src/matrix_keyboard.c **** /**
 135:Core/Src/matrix_keyboard.c ****   * @brief Get the status of a specific key
 136:Core/Src/matrix_keyboard.c ****   * @param row: Row index (0-2)
 137:Core/Src/matrix_keyboard.c ****   * @param col: Column index (0-2)
 138:Core/Src/matrix_keyboard.c ****   * @retval Key status: 1 = pressed, 0 = not pressed
 139:Core/Src/matrix_keyboard.c ****   */
 140:Core/Src/matrix_keyboard.c **** uint8_t Matrix_Get_Key_Status(uint8_t row, uint8_t col)
 141:Core/Src/matrix_keyboard.c **** {
 182              		.loc 1 141 1 is_stmt 1 view -0
 183              		.cfi_startproc
 184              		@ args = 0, pretend = 0, frame = 0
 185              		@ frame_needed = 0, uses_anonymous_args = 0
 186              		@ link register save eliminated.
 142:Core/Src/matrix_keyboard.c ****     if (row < KEYBOARD_ROWS && col < KEYBOARD_COLS) {
 187              		.loc 1 142 5 view .LVU39
 188              		.loc 1 142 8 is_stmt 0 view .LVU40
 189 0000 0228     		cmp	r0, #2
 190 0002 09D8     		bhi	.L12
 191              		.loc 1 142 29 discriminator 1 view .LVU41
 192 0004 0229     		cmp	r1, #2
 193 0006 01D9     		bls	.L14
 143:Core/Src/matrix_keyboard.c ****         return key_state[row][col];
 144:Core/Src/matrix_keyboard.c ****     }
 145:Core/Src/matrix_keyboard.c ****     return 0;
ARM GAS  /tmp/ccwqkg8D.s 			page 7


 194              		.loc 1 145 12 view .LVU42
 195 0008 0020     		movs	r0, #0
 196              	.LVL11:
 146:Core/Src/matrix_keyboard.c **** }
 197              		.loc 1 146 1 view .LVU43
 198 000a 7047     		bx	lr
 199              	.LVL12:
 200              	.L14:
 143:Core/Src/matrix_keyboard.c ****         return key_state[row][col];
 201              		.loc 1 143 9 is_stmt 1 view .LVU44
 143:Core/Src/matrix_keyboard.c ****         return key_state[row][col];
 202              		.loc 1 143 30 is_stmt 0 view .LVU45
 203 000c 00EB4000 		add	r0, r0, r0, lsl #1
 204              	.LVL13:
 143:Core/Src/matrix_keyboard.c ****         return key_state[row][col];
 205              		.loc 1 143 30 view .LVU46
 206 0010 024B     		ldr	r3, .L15
 207 0012 0344     		add	r3, r3, r0
 208 0014 585C     		ldrb	r0, [r3, r1]	@ zero_extendqisi2
 209 0016 7047     		bx	lr
 210              	.LVL14:
 211              	.L12:
 145:Core/Src/matrix_keyboard.c **** }
 212              		.loc 1 145 12 view .LVU47
 213 0018 0020     		movs	r0, #0
 214              	.LVL15:
 145:Core/Src/matrix_keyboard.c **** }
 215              		.loc 1 145 12 view .LVU48
 216 001a 7047     		bx	lr
 217              	.L16:
 218              		.align	2
 219              	.L15:
 220 001c 00000000 		.word	key_state
 221              		.cfi_endproc
 222              	.LFE136:
 224              		.section	.text.Matrix_Key_Callback,"ax",%progbits
 225              		.align	1
 226              		.weak	Matrix_Key_Callback
 227              		.syntax unified
 228              		.thumb
 229              		.thumb_func
 231              	Matrix_Key_Callback:
 232              	.LVL16:
 233              	.LFB137:
 147:Core/Src/matrix_keyboard.c **** 
 148:Core/Src/matrix_keyboard.c **** /**
 149:Core/Src/matrix_keyboard.c ****   * @brief Callback function for key press/release events
 150:Core/Src/matrix_keyboard.c ****   * This function should be overridden by user application
 151:Core/Src/matrix_keyboard.c ****   * @param key_code: Key code (0-8)
 152:Core/Src/matrix_keyboard.c ****   * @param pressed: 1 = key pressed, 0 = key released
 153:Core/Src/matrix_keyboard.c ****   * @retval None
 154:Core/Src/matrix_keyboard.c ****   */
 155:Core/Src/matrix_keyboard.c **** __weak void Matrix_Key_Callback(uint8_t key_code, uint8_t pressed)
 156:Core/Src/matrix_keyboard.c **** {
 234              		.loc 1 156 1 is_stmt 1 view -0
 235              		.cfi_startproc
 236              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccwqkg8D.s 			page 8


 237              		@ frame_needed = 0, uses_anonymous_args = 0
 238              		@ link register save eliminated.
 157:Core/Src/matrix_keyboard.c ****     /* This is a weak function, user can override it in application code */
 158:Core/Src/matrix_keyboard.c ****     /* Example implementation:
 159:Core/Src/matrix_keyboard.c ****      * if (pressed) {
 160:Core/Src/matrix_keyboard.c ****      *     printf("Key %d pressed\r\n", key_code);
 161:Core/Src/matrix_keyboard.c ****      * } else {
 162:Core/Src/matrix_keyboard.c ****      *     printf("Key %d released\r\n", key_code);
 163:Core/Src/matrix_keyboard.c ****      * }
 164:Core/Src/matrix_keyboard.c ****      */
 165:Core/Src/matrix_keyboard.c **** }
 239              		.loc 1 165 1 view .LVU50
 240 0000 7047     		bx	lr
 241              		.cfi_endproc
 242              	.LFE137:
 244              		.section	.text.Matrix_Keyboard_Scan,"ax",%progbits
 245              		.align	1
 246              		.global	Matrix_Keyboard_Scan
 247              		.syntax unified
 248              		.thumb
 249              		.thumb_func
 251              	Matrix_Keyboard_Scan:
 252              	.LFB135:
  75:Core/Src/matrix_keyboard.c ****     uint8_t col;
 253              		.loc 1 75 1 view -0
 254              		.cfi_startproc
 255              		@ args = 0, pretend = 0, frame = 8
 256              		@ frame_needed = 0, uses_anonymous_args = 0
 257 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 258              	.LCFI3:
 259              		.cfi_def_cfa_offset 20
 260              		.cfi_offset 4, -20
 261              		.cfi_offset 5, -16
 262              		.cfi_offset 6, -12
 263              		.cfi_offset 7, -8
 264              		.cfi_offset 14, -4
 265 0002 83B0     		sub	sp, sp, #12
 266              	.LCFI4:
 267              		.cfi_def_cfa_offset 32
  76:Core/Src/matrix_keyboard.c ****     GPIO_PinState pin_state;
 268              		.loc 1 76 5 view .LVU52
  77:Core/Src/matrix_keyboard.c ****     uint32_t current_time = HAL_GetTick();
 269              		.loc 1 77 5 view .LVU53
  78:Core/Src/matrix_keyboard.c ****     
 270              		.loc 1 78 5 view .LVU54
  78:Core/Src/matrix_keyboard.c ****     
 271              		.loc 1 78 29 is_stmt 0 view .LVU55
 272 0004 FFF7FEFF 		bl	HAL_GetTick
 273              	.LVL17:
 274 0008 0646     		mov	r6, r0
 275              	.LVL18:
  81:Core/Src/matrix_keyboard.c ****         /* Set current row to LOW (activate it), others to HIGH */
 276              		.loc 1 81 5 is_stmt 1 view .LVU56
 277              	.LBB5:
  81:Core/Src/matrix_keyboard.c ****         /* Set current row to LOW (activate it), others to HIGH */
 278              		.loc 1 81 10 view .LVU57
  81:Core/Src/matrix_keyboard.c ****         /* Set current row to LOW (activate it), others to HIGH */
ARM GAS  /tmp/ccwqkg8D.s 			page 9


 279              		.loc 1 81 18 is_stmt 0 view .LVU58
 280 000a 0025     		movs	r5, #0
  81:Core/Src/matrix_keyboard.c ****         /* Set current row to LOW (activate it), others to HIGH */
 281              		.loc 1 81 5 view .LVU59
 282 000c 6CE0     		b	.L19
 283              	.LVL19:
 284              	.L36:
 285              	.LBB6:
  85:Core/Src/matrix_keyboard.c ****             } else {
 286              		.loc 1 85 17 is_stmt 1 view .LVU60
 287 000e 0022     		movs	r2, #0
 288 0010 3F4B     		ldr	r3, .L40
 289 0012 33F81410 		ldrh	r1, [r3, r4, lsl #1]
 290 0016 3F48     		ldr	r0, .L40+4
 291 0018 FFF7FEFF 		bl	HAL_GPIO_WritePin
 292              	.LVL20:
 293              	.L21:
  83:Core/Src/matrix_keyboard.c ****             if (i == row) {
 294              		.loc 1 83 49 discriminator 2 view .LVU61
 295 001c 0134     		adds	r4, r4, #1
 296              	.LVL21:
  83:Core/Src/matrix_keyboard.c ****             if (i == row) {
 297              		.loc 1 83 49 is_stmt 0 discriminator 2 view .LVU62
 298 001e E4B2     		uxtb	r4, r4
 299              	.LVL22:
 300              	.L30:
  83:Core/Src/matrix_keyboard.c ****             if (i == row) {
 301              		.loc 1 83 31 is_stmt 1 discriminator 1 view .LVU63
 302 0020 022C     		cmp	r4, #2
 303 0022 09D8     		bhi	.L35
  84:Core/Src/matrix_keyboard.c ****                 HAL_GPIO_WritePin(ROW_PORT, row_pins[i], GPIO_PIN_RESET);  // LOW = active
 304              		.loc 1 84 13 view .LVU64
  84:Core/Src/matrix_keyboard.c ****                 HAL_GPIO_WritePin(ROW_PORT, row_pins[i], GPIO_PIN_RESET);  // LOW = active
 305              		.loc 1 84 16 is_stmt 0 view .LVU65
 306 0024 A542     		cmp	r5, r4
 307 0026 F2D0     		beq	.L36
  87:Core/Src/matrix_keyboard.c ****             }
 308              		.loc 1 87 17 is_stmt 1 view .LVU66
 309 0028 0122     		movs	r2, #1
 310 002a 394B     		ldr	r3, .L40
 311 002c 33F81410 		ldrh	r1, [r3, r4, lsl #1]
 312 0030 3848     		ldr	r0, .L40+4
 313 0032 FFF7FEFF 		bl	HAL_GPIO_WritePin
 314              	.LVL23:
 315 0036 F1E7     		b	.L21
 316              	.L35:
 317              	.LBE6:
  92:Core/Src/matrix_keyboard.c ****         
 318              		.loc 1 92 9 view .LVU67
 319              	.LBB7:
  92:Core/Src/matrix_keyboard.c ****         
 320              		.loc 1 92 14 view .LVU68
  92:Core/Src/matrix_keyboard.c ****         
 321              		.loc 1 92 32 is_stmt 0 view .LVU69
 322 0038 0023     		movs	r3, #0
 323 003a 0193     		str	r3, [sp, #4]
  92:Core/Src/matrix_keyboard.c ****         
ARM GAS  /tmp/ccwqkg8D.s 			page 10


 324              		.loc 1 92 9 view .LVU70
 325 003c 02E0     		b	.L23
 326              	.L24:
  92:Core/Src/matrix_keyboard.c ****         
 327              		.loc 1 92 49 is_stmt 1 discriminator 3 view .LVU71
 328 003e 019B     		ldr	r3, [sp, #4]
 329 0040 0133     		adds	r3, r3, #1
 330 0042 0193     		str	r3, [sp, #4]
 331              	.L23:
  92:Core/Src/matrix_keyboard.c ****         
 332              		.loc 1 92 41 discriminator 1 view .LVU72
 333 0044 019B     		ldr	r3, [sp, #4]
 334 0046 632B     		cmp	r3, #99
 335 0048 F9D9     		bls	.L24
 336              	.LBE7:
  95:Core/Src/matrix_keyboard.c ****             pin_state = HAL_GPIO_ReadPin(COL_PORT, col_pins[col]);
 337              		.loc 1 95 18 is_stmt 0 view .LVU73
 338 004a 0024     		movs	r4, #0
 339              	.LVL24:
  95:Core/Src/matrix_keyboard.c ****             pin_state = HAL_GPIO_ReadPin(COL_PORT, col_pins[col]);
 340              		.loc 1 95 18 view .LVU74
 341 004c 0BE0     		b	.L25
 342              	.LVL25:
 343              	.L27:
 344              	.LBB8:
 109:Core/Src/matrix_keyboard.c ****                     /* State is stable, update key state */
 345              		.loc 1 109 17 is_stmt 1 view .LVU75
 109:Core/Src/matrix_keyboard.c ****                     /* State is stable, update key state */
 346              		.loc 1 109 56 is_stmt 0 view .LVU76
 347 004e 03EB4302 		add	r2, r3, r3, lsl #1
 348 0052 3A44     		add	r2, r2, r7
 349 0054 DFF8D4C0 		ldr	ip, .L40+28
 350 0058 5CF82220 		ldr	r2, [ip, r2, lsl #2]
 109:Core/Src/matrix_keyboard.c ****                     /* State is stable, update key state */
 351              		.loc 1 109 35 view .LVU77
 352 005c B21A     		subs	r2, r6, r2
 109:Core/Src/matrix_keyboard.c ****                     /* State is stable, update key state */
 353              		.loc 1 109 20 view .LVU78
 354 005e 132A     		cmp	r2, #19
 355 0060 24D8     		bhi	.L37
 356              	.LVL26:
 357              	.L28:
 109:Core/Src/matrix_keyboard.c ****                     /* State is stable, update key state */
 358              		.loc 1 109 20 view .LVU79
 359              	.LBE8:
  95:Core/Src/matrix_keyboard.c ****             pin_state = HAL_GPIO_ReadPin(COL_PORT, col_pins[col]);
 360              		.loc 1 95 47 is_stmt 1 discriminator 2 view .LVU80
 361 0062 0134     		adds	r4, r4, #1
 362              	.LVL27:
  95:Core/Src/matrix_keyboard.c ****             pin_state = HAL_GPIO_ReadPin(COL_PORT, col_pins[col]);
 363              		.loc 1 95 47 is_stmt 0 discriminator 2 view .LVU81
 364 0064 E4B2     		uxtb	r4, r4
 365              	.LVL28:
 366              	.L25:
  95:Core/Src/matrix_keyboard.c ****             pin_state = HAL_GPIO_ReadPin(COL_PORT, col_pins[col]);
 367              		.loc 1 95 27 is_stmt 1 discriminator 1 view .LVU82
 368 0066 022C     		cmp	r4, #2
ARM GAS  /tmp/ccwqkg8D.s 			page 11


 369 0068 3CD8     		bhi	.L38
 370              	.LBB10:
  96:Core/Src/matrix_keyboard.c ****             
 371              		.loc 1 96 13 view .LVU83
  96:Core/Src/matrix_keyboard.c ****             
 372              		.loc 1 96 25 is_stmt 0 view .LVU84
 373 006a 2746     		mov	r7, r4
 374 006c 2A4B     		ldr	r3, .L40+8
 375 006e 33F81410 		ldrh	r1, [r3, r4, lsl #1]
 376 0072 2A48     		ldr	r0, .L40+12
 377 0074 FFF7FEFF 		bl	HAL_GPIO_ReadPin
 378              	.LVL29:
  99:Core/Src/matrix_keyboard.c ****             
 379              		.loc 1 99 13 is_stmt 1 view .LVU85
  99:Core/Src/matrix_keyboard.c ****             
 380              		.loc 1 99 71 is_stmt 0 view .LVU86
 381 0078 B0FA80F1 		clz	r1, r0
 382 007c 4909     		lsrs	r1, r1, #5
 383              	.LVL30:
 102:Core/Src/matrix_keyboard.c ****                 /* State changed, start debounce timer */
 384              		.loc 1 102 13 is_stmt 1 view .LVU87
 102:Core/Src/matrix_keyboard.c ****                 /* State changed, start debounce timer */
 385              		.loc 1 102 48 is_stmt 0 view .LVU88
 386 007e 2B46     		mov	r3, r5
 387 0080 05EB4500 		add	r0, r5, r5, lsl #1
 388              	.LVL31:
 102:Core/Src/matrix_keyboard.c ****                 /* State changed, start debounce timer */
 389              		.loc 1 102 48 view .LVU89
 390 0084 264A     		ldr	r2, .L40+16
 391 0086 0244     		add	r2, r2, r0
 392 0088 105D     		ldrb	r0, [r2, r4]	@ zero_extendqisi2
 102:Core/Src/matrix_keyboard.c ****                 /* State changed, start debounce timer */
 393              		.loc 1 102 16 view .LVU90
 394 008a 8842     		cmp	r0, r1
 395 008c 22D0     		beq	.L26
 104:Core/Src/matrix_keyboard.c ****                     debounce_timer[row][col] = current_time;
 396              		.loc 1 104 17 is_stmt 1 view .LVU91
 104:Core/Src/matrix_keyboard.c ****                     debounce_timer[row][col] = current_time;
 397              		.loc 1 104 40 is_stmt 0 view .LVU92
 398 008e 05EB4502 		add	r2, r5, r5, lsl #1
 399 0092 2244     		add	r2, r2, r4
 400 0094 DFF894C0 		ldr	ip, .L40+28
 401 0098 5CF82220 		ldr	r2, [ip, r2, lsl #2]
 104:Core/Src/matrix_keyboard.c ****                     debounce_timer[row][col] = current_time;
 402              		.loc 1 104 20 view .LVU93
 403 009c 002A     		cmp	r2, #0
 404 009e D6D1     		bne	.L27
 105:Core/Src/matrix_keyboard.c ****                 }
 405              		.loc 1 105 21 is_stmt 1 view .LVU94
 105:Core/Src/matrix_keyboard.c ****                 }
 406              		.loc 1 105 46 is_stmt 0 view .LVU95
 407 00a0 05EB4502 		add	r2, r5, r5, lsl #1
 408 00a4 2244     		add	r2, r2, r4
 409 00a6 4CF82260 		str	r6, [ip, r2, lsl #2]
 410 00aa D0E7     		b	.L27
 411              	.L37:
 111:Core/Src/matrix_keyboard.c ****                     key_state[row][col] = current_state;
ARM GAS  /tmp/ccwqkg8D.s 			page 12


 412              		.loc 1 111 21 is_stmt 1 view .LVU96
 111:Core/Src/matrix_keyboard.c ****                     key_state[row][col] = current_state;
 413              		.loc 1 111 46 is_stmt 0 view .LVU97
 414 00ac 03EB4303 		add	r3, r3, r3, lsl #1
 415 00b0 1C4A     		ldr	r2, .L40+20
 416 00b2 1A44     		add	r2, r2, r3
 417 00b4 D055     		strb	r0, [r2, r7]
 112:Core/Src/matrix_keyboard.c ****                     debounce_timer[row][col] = 0;
 418              		.loc 1 112 21 is_stmt 1 view .LVU98
 112:Core/Src/matrix_keyboard.c ****                     debounce_timer[row][col] = 0;
 419              		.loc 1 112 41 is_stmt 0 view .LVU99
 420 00b6 1A4A     		ldr	r2, .L40+16
 421 00b8 1A44     		add	r2, r2, r3
 422 00ba D155     		strb	r1, [r2, r7]
 113:Core/Src/matrix_keyboard.c ****                     
 423              		.loc 1 113 21 is_stmt 1 view .LVU100
 113:Core/Src/matrix_keyboard.c ****                     
 424              		.loc 1 113 46 is_stmt 0 view .LVU101
 425 00bc D819     		adds	r0, r3, r7
 426 00be 6246     		mov	r2, ip
 427 00c0 4FF0000C 		mov	ip, #0
 428 00c4 42F820C0 		str	ip, [r2, r0, lsl #2]
 116:Core/Src/matrix_keyboard.c ****                         uint8_t key_code = key_map[row][col];
 429              		.loc 1 116 21 is_stmt 1 view .LVU102
 430              	.LBB9:
 117:Core/Src/matrix_keyboard.c ****                         Matrix_Key_Callback(key_code, key_state[row][col]);
 431              		.loc 1 117 25 view .LVU103
 117:Core/Src/matrix_keyboard.c ****                         Matrix_Key_Callback(key_code, key_state[row][col]);
 432              		.loc 1 117 33 is_stmt 0 view .LVU104
 433 00c8 174A     		ldr	r2, .L40+24
 434 00ca 1344     		add	r3, r3, r2
 435              	.LVL32:
 118:Core/Src/matrix_keyboard.c ****                     }
 436              		.loc 1 118 25 is_stmt 1 view .LVU105
 437 00cc D85D     		ldrb	r0, [r3, r7]	@ zero_extendqisi2
 438 00ce FFF7FEFF 		bl	Matrix_Key_Callback
 439              	.LVL33:
 118:Core/Src/matrix_keyboard.c ****                     }
 440              		.loc 1 118 25 is_stmt 0 view .LVU106
 441 00d2 C6E7     		b	.L28
 442              	.LVL34:
 443              	.L26:
 118:Core/Src/matrix_keyboard.c ****                     }
 444              		.loc 1 118 25 view .LVU107
 445              	.LBE9:
 123:Core/Src/matrix_keyboard.c ****             }
 446              		.loc 1 123 17 is_stmt 1 view .LVU108
 123:Core/Src/matrix_keyboard.c ****             }
 447              		.loc 1 123 42 is_stmt 0 view .LVU109
 448 00d4 05EB4503 		add	r3, r5, r5, lsl #1
 449 00d8 2344     		add	r3, r3, r4
 450 00da 144A     		ldr	r2, .L40+28
 451 00dc 0021     		movs	r1, #0
 452              	.LVL35:
 123:Core/Src/matrix_keyboard.c ****             }
 453              		.loc 1 123 42 view .LVU110
 454 00de 42F82310 		str	r1, [r2, r3, lsl #2]
ARM GAS  /tmp/ccwqkg8D.s 			page 13


 455 00e2 BEE7     		b	.L28
 456              	.LVL36:
 457              	.L38:
 123:Core/Src/matrix_keyboard.c ****             }
 458              		.loc 1 123 42 view .LVU111
 459              	.LBE10:
  81:Core/Src/matrix_keyboard.c ****         /* Set current row to LOW (activate it), others to HIGH */
 460              		.loc 1 81 51 is_stmt 1 discriminator 2 view .LVU112
 461 00e4 0135     		adds	r5, r5, #1
 462              	.LVL37:
  81:Core/Src/matrix_keyboard.c ****         /* Set current row to LOW (activate it), others to HIGH */
 463              		.loc 1 81 51 is_stmt 0 discriminator 2 view .LVU113
 464 00e6 EDB2     		uxtb	r5, r5
 465              	.LVL38:
 466              	.L19:
  81:Core/Src/matrix_keyboard.c ****         /* Set current row to LOW (activate it), others to HIGH */
 467              		.loc 1 81 31 is_stmt 1 discriminator 1 view .LVU114
 468 00e8 022D     		cmp	r5, #2
 469 00ea 01D8     		bhi	.L39
 470              	.LBB11:
  83:Core/Src/matrix_keyboard.c ****             if (i == row) {
 471              		.loc 1 83 22 is_stmt 0 view .LVU115
 472 00ec 0024     		movs	r4, #0
 473 00ee 97E7     		b	.L30
 474              	.L39:
 475              	.LBE11:
 476              	.LBE5:
 477              	.LBB12:
 129:Core/Src/matrix_keyboard.c ****         HAL_GPIO_WritePin(ROW_PORT, row_pins[i], GPIO_PIN_SET);
 478              		.loc 1 129 18 view .LVU116
 479 00f0 0024     		movs	r4, #0
 480 00f2 08E0     		b	.L31
 481              	.LVL39:
 482              	.L32:
 130:Core/Src/matrix_keyboard.c ****     }
 483              		.loc 1 130 9 is_stmt 1 view .LVU117
 484 00f4 0122     		movs	r2, #1
 485 00f6 064B     		ldr	r3, .L40
 486 00f8 33F81410 		ldrh	r1, [r3, r4, lsl #1]
 487 00fc 0548     		ldr	r0, .L40+4
 488 00fe FFF7FEFF 		bl	HAL_GPIO_WritePin
 489              	.LVL40:
 129:Core/Src/matrix_keyboard.c ****         HAL_GPIO_WritePin(ROW_PORT, row_pins[i], GPIO_PIN_SET);
 490              		.loc 1 129 45 discriminator 3 view .LVU118
 491 0102 0134     		adds	r4, r4, #1
 492              	.LVL41:
 129:Core/Src/matrix_keyboard.c ****         HAL_GPIO_WritePin(ROW_PORT, row_pins[i], GPIO_PIN_SET);
 493              		.loc 1 129 45 is_stmt 0 discriminator 3 view .LVU119
 494 0104 E4B2     		uxtb	r4, r4
 495              	.LVL42:
 496              	.L31:
 129:Core/Src/matrix_keyboard.c ****         HAL_GPIO_WritePin(ROW_PORT, row_pins[i], GPIO_PIN_SET);
 497              		.loc 1 129 27 is_stmt 1 discriminator 1 view .LVU120
 498 0106 022C     		cmp	r4, #2
 499 0108 F4D9     		bls	.L32
 500              	.LBE12:
 132:Core/Src/matrix_keyboard.c **** 
ARM GAS  /tmp/ccwqkg8D.s 			page 14


 501              		.loc 1 132 1 is_stmt 0 view .LVU121
 502 010a 03B0     		add	sp, sp, #12
 503              	.LCFI5:
 504              		.cfi_def_cfa_offset 20
 505              		@ sp needed
 506 010c F0BD     		pop	{r4, r5, r6, r7, pc}
 507              	.LVL43:
 508              	.L41:
 132:Core/Src/matrix_keyboard.c **** 
 509              		.loc 1 132 1 view .LVU122
 510 010e 00BF     		.align	2
 511              	.L40:
 512 0110 00000000 		.word	row_pins
 513 0114 000C0240 		.word	1073875968
 514 0118 00000000 		.word	col_pins
 515 011c 00080240 		.word	1073874944
 516 0120 00000000 		.word	key_state
 517 0124 00000000 		.word	key_state_last
 518 0128 00000000 		.word	key_map
 519 012c 00000000 		.word	debounce_timer
 520              		.cfi_endproc
 521              	.LFE135:
 523              		.section	.rodata.key_map,"a"
 524              		.align	2
 527              	key_map:
 528 0000 000102   		.ascii	"\000\001\002"
 529 0003 030405   		.ascii	"\003\004\005"
 530 0006 060708   		.ascii	"\006\007\010"
 531              		.section	.rodata.col_pins,"a"
 532              		.align	2
 535              	col_pins:
 536 0000 4000     		.short	64
 537 0002 8000     		.short	128
 538 0004 0001     		.short	256
 539              		.section	.rodata.row_pins,"a"
 540              		.align	2
 543              	row_pins:
 544 0000 0040     		.short	16384
 545 0002 0010     		.short	4096
 546 0004 0004     		.short	1024
 547              		.section	.bss.debounce_timer,"aw",%nobits
 548              		.align	2
 551              	debounce_timer:
 552 0000 00000000 		.space	36
 552      00000000 
 552      00000000 
 552      00000000 
 552      00000000 
 553              		.section	.bss.key_state_last,"aw",%nobits
 554              		.align	2
 557              	key_state_last:
 558 0000 00000000 		.space	9
 558      00000000 
 558      00
 559              		.section	.bss.key_state,"aw",%nobits
 560              		.align	2
 563              	key_state:
ARM GAS  /tmp/ccwqkg8D.s 			page 15


 564 0000 00000000 		.space	9
 564      00000000 
 564      00
 565              		.text
 566              	.Letext0:
 567              		.file 2 "/usr/lib/gcc/arm-none-eabi/13.2.1/include/stdint.h"
 568              		.file 3 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 569              		.file 4 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 570              		.file 5 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
ARM GAS  /tmp/ccwqkg8D.s 			page 16


DEFINED SYMBOLS
                            *ABS*:00000000 matrix_keyboard.c
     /tmp/ccwqkg8D.s:21     .text.Matrix_Keyboard_Init:00000000 $t
     /tmp/ccwqkg8D.s:27     .text.Matrix_Keyboard_Init:00000000 Matrix_Keyboard_Init
     /tmp/ccwqkg8D.s:164    .text.Matrix_Keyboard_Init:00000090 $d
     /tmp/ccwqkg8D.s:563    .bss.key_state:00000000 key_state
     /tmp/ccwqkg8D.s:557    .bss.key_state_last:00000000 key_state_last
     /tmp/ccwqkg8D.s:551    .bss.debounce_timer:00000000 debounce_timer
     /tmp/ccwqkg8D.s:173    .text.Matrix_Get_Key_Status:00000000 $t
     /tmp/ccwqkg8D.s:179    .text.Matrix_Get_Key_Status:00000000 Matrix_Get_Key_Status
     /tmp/ccwqkg8D.s:220    .text.Matrix_Get_Key_Status:0000001c $d
     /tmp/ccwqkg8D.s:225    .text.Matrix_Key_Callback:00000000 $t
     /tmp/ccwqkg8D.s:231    .text.Matrix_Key_Callback:00000000 Matrix_Key_Callback
     /tmp/ccwqkg8D.s:245    .text.Matrix_Keyboard_Scan:00000000 $t
     /tmp/ccwqkg8D.s:251    .text.Matrix_Keyboard_Scan:00000000 Matrix_Keyboard_Scan
     /tmp/ccwqkg8D.s:512    .text.Matrix_Keyboard_Scan:00000110 $d
     /tmp/ccwqkg8D.s:543    .rodata.row_pins:00000000 row_pins
     /tmp/ccwqkg8D.s:535    .rodata.col_pins:00000000 col_pins
     /tmp/ccwqkg8D.s:527    .rodata.key_map:00000000 key_map
     /tmp/ccwqkg8D.s:524    .rodata.key_map:00000000 $d
     /tmp/ccwqkg8D.s:532    .rodata.col_pins:00000000 $d
     /tmp/ccwqkg8D.s:540    .rodata.row_pins:00000000 $d
     /tmp/ccwqkg8D.s:548    .bss.debounce_timer:00000000 $d
     /tmp/ccwqkg8D.s:554    .bss.key_state_last:00000000 $d
     /tmp/ccwqkg8D.s:560    .bss.key_state:00000000 $d

UNDEFINED SYMBOLS
HAL_GPIO_Init
HAL_GPIO_WritePin
HAL_GetTick
HAL_GPIO_ReadPin
